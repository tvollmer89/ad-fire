(function(){var t;$.fn.tabcordion=function(s){return this.each(function(){var i,a,o;return i=$(this),o="object"==typeof s&&s,a=i.data("tabcordion")||new t(this,o),"string"==typeof s?a[s]():"number"==typeof s?a.index(s):void 0})},$.fn.tabcordion.defaults={resizeEl:null,onResize:!0,delay:500,breakWidth:768,tabs:{minWidth:null,class:"tabbable",listClass:"nav nav-tabs",itemClass:"",bodyClass:"tab-pane"},accordion:{maxWidth:null,class:"accordion",listClass:"nav",itemClass:"accordion-group",bodyClass:"accordion-body collapse"},activeClass:"active in",scheduler:null},t=function(){function t(t,s){var i;this.$el=$(t),this.options=$.extend({},$.fn.tabcordion.defaults,{resizeEl:this.$el},s),null==this.options.tabs.minWidth&&(this.options.tabs.minWidth=this.options.breakWidth),null==this.options.accordion.maxWidth&&(this.options.accordion.maxWidth=this.options.breakWidth),this.$el.addClass(this.options.tabs.class).find("> .tab-content > *").addClass(this.options.tabs.bodyClass),this.$el.find("> ul > li > a").attr("data-toggle","tab"),this.$el.data("tabcordion",this),(i=this.$el.find("> ul").attr("class"))&&(this.options.tabs.listClass+=" "+i),this.options.onResize&&(this.proxy=$.proxy(this.eventHandler,this),$(window).on("resize",this.proxy)),this.onResize(),this.initialized=!0}return t.prototype.index=function(t){var s,i,a,o,n,e,l;if(this.$el.hasClass(this.options.tabs.class)){for(e=[this.$el.find(".tab-content > *"),this.$el.find(".nav-tabs > *")],l=[],o=0,n=e.length;o<n;o++)a=e[o],a.length>t?l.push(a.removeClass("active").slice(t,t+1).addClass("active")):l.push(void 0);return l}return this.$el.find(".accordion-body, .accordion-toggle").removeClass("active in"),i=this.$el.find(".accordion-group").removeClass("active"),s=i.slice(t,t+1),s.addClass(this.options.activeClass).find(".accordion-heading > .accordion-toggle").addClass(this.options.activeClass)},t.prototype.eventHandler=function(t){var s=this;return this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){return s.options.scheduler?s.options.scheduler(function(){return s.onResize(t)}):s.onResize(t)},this.options.delay)},t.prototype.onResize=function(){var t;return t=$(this.options.resizeEl).width(),t<this.options.tabs.minWidth?this.accordion():t>this.options.accordion.maxWidth?this.tabs():void 0},t.prototype.tabs=function(){var t,s,i=this;if(!this.initialized)return this.$el.find("> ul.nav a").tab().on("click",function(){return $(this).tab("show")});if(!this.$el.hasClass(this.options.tabs.class))return this.$el.removeClass(this.options.accordion.class).addClass(this.options.tabs.class),t=this.$el.find("> ul.nav").removeClass(this.options.accordion.listClass).addClass(this.options.tabs.listClass),s=this.$el.find(".tab-content").css("display","block"),t.parent().append(s),t.children().removeClass(this.options.accordion.itemClass).addClass(this.options.tabs.itemClass).each(function(t,a){var o,n,e,l;return l=$(a),e=l.find(".accordion-heading a"),e.attr("data-toggle","tab"),o=$(e.attr("data-target")).removeClass("fade"),n=o.find("> .accordion-inner").remove(),o.append(n.children()),l.children().remove().end().append(e),s.append(o),i.switchContent(e,o,i.options.accordion,i.options.tabs),e.tab()})},t.prototype.accordion=function(){var s,i,a,o=this;if(!this.$el.hasClass(this.options.accordion.class))return this.$el.removeClass(this.options.tabs.class).addClass(this.options.accordion.class),s=this.$el.find("> ul.nav").removeClass(this.options.tabs.listClass).addClass(this.options.accordion.listClass),s.parent().append(s),a=this.$el.find(".tab-content").css("display","none"),i=s.children(),i.removeClass(this.options.tabs.itemClass).addClass(this.options.accordion.itemClass).each(function(s,i){var a,n,e,l;return l=$(i),e=l.find("a"),a=$(e.attr("data-target")),n=$('<div class="accordion-heading" />').append(e),a.append($('<div class="accordion-inner" />').append(a.children())),a.attr("id")||a.attr("id",t.generateId("body")),e.addClass("accordion-toggle"),e.attr("data-toggle","collapse"),e.attr("data-target","#"+a.attr("id")),e.data("parent",o.$el),l.append(n).append(a),o.switchContent(e,a,o.options.tabs,o.options.accordion),!0})},t.prototype.switchContent=function(t,s,i,a){var o,n;return n=a.bodyClass===this.options.tabs.bodyClass,o=s.hasClass("active"),s.removeClass(i.bodyClass).addClass(a.bodyClass),o?(t.addClass(this.options.activeClass),s.addClass(this.options.activeClass)):(t.removeClass(this.options.activeClass),s.removeClass(this.options.activeClass)),t.on("click",function(t){return t.preventDefault()}),s.collapse({parent:this.$el.find("> ul"),toggle:!1}),n||(s.height(o?"auto":0),s.collapse()),o},t.prototype.getItems=function(){return this.$el.find(".nav > li a[data-target]")},t.prototype.destroy=function(){if(this.proxy)return $(window).off("resize",this.proxy)},t}(),$.extend(t,{idSuffix:1,generateId:function(s){for(var i;;)if(i="tabcordion-"+s+"-"+t.idSuffix++,0===$("#"+i).length)break;return i}})}).call(this);