!function(){var a=this,b=Array.prototype,c=b.push,d=b.slice,e=function(){this.children={}};e.prototype=[],e.prototype.constructor=e,e.prototype.push=function(){c.apply(this,arguments);for(var a=d.call(arguments),b=0;b<a.length;b++)this.children[a[b]]=new e;return this.length},e.prototype.pop=function(){var a=b.pop.call(this),c=this.children[a];return delete this.children[a],{element:a,children:c}},e.prototype.shift=function(){var a=b.shift.call(this),c=this.children[a];return delete this.children[a],{element:a,children:c}},e.prototype.unshift=function(){b.unshift.apply(this,arguments);for(var a=d.call(arguments),c=0;c<a.length;c++)this.children[a[c]]=new e;return this.length},e.prototype.childrenOf=function(a){return this.children[a]},e.prototype.nodes=function(){return d.call(this)},e.prototype.sort=function(a){this.length>1&&b.sort.call(this,a);for(var c=0;c<this.length;c++)this.children[this[c]].sort(a)},e.prototype.reverse=function(){this.length>1&&b.reverse.call(this);for(var a=0;a<this.length;a++)this.children[this[a]].reverse()},e.prototype.flatten=function(){for(var a,b=[],d=0;d<this.length;d++)a=this[d],b.push(a),c.apply(b,this.childrenOf(a).flatten());return b},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.Tree=e):a.Tree=e}(this);