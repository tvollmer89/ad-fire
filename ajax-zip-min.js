$(function(){function e(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent&&e.attachEvent("on"+n,t)}function n(n){u=n,s=new t,u.reduce(function(e,n){return e.then(function(){return i(n.url).then(function(e){s.file(n.filename,e),console.log(s)})})},r()).then(function(){function n(){return s.generateAsync({type:"blob"}).then(function(e){o.saveAs(e,"firestop-systems.zip")},function(e){r.innerHTML+=" "+e}),!1}console.log(s);var r=document.getElementById("download-zip");t.support.blob?e(r,"click",n):r.innerHTML+=" (not supported on this browser)"})}var t=require("jszip"),r=require("q"),o=require("file-saver"),i=function(e){var n=r.defer(),t=new XMLHttpRequest;return t.open("GET",e,!0),t.responseType="arraybuffer",t.onreadystatechange=function(){4===t.readyState&&(t.status<400?n.resolve(t.response):n.reject(new Error("Failed to load file from server")))},t.send(),n.promise},s,u});